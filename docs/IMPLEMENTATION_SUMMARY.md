# êµ¬í˜„ ì™„ë£Œ ìš”ì•½

**ìµœì¢… ì—…ë°ì´íŠ¸**: 2026-02-01

---

## ì˜¤ëŠ˜(2026-02-01) ê°œë°œ ì§„í–‰ ë‚´ìš©

### ì¸ì¦Â·ì˜¨ë³´ë”©
- **ì´ë©”ì¼ ì¦‰ì‹œ ê°€ì…Â·ë¡œê·¸ì¸**: ì´ë©”ì¼ ì¸ì¦ ì—†ì´ ê°€ì… ê°€ëŠ¥, ê°€ì… ì‹œ ì´ë¦„Â·ì—°ë½ì²˜ ìˆ˜ì§‘ (`profiles` ì €ì¥)
- **ì½”ì¹˜ ë¡œê·¸ì¸**: ê´€ë¦¬ìê°€ ìˆ˜ë™ ì§€ì •í•œ ì´ë©”ì¼ë§Œ ì½”ì¹˜ ëª¨ë“œ ì§„ì… (`COACH_EMAILS`, `/login/coach`)
- **ë¹„ë°€ë²ˆí˜¸ ë¦¬ì…‹**: `scripts/set-user-password.js` â€” `.env.local` ë˜ëŠ” ì¸ë¼ì¸ envë¡œ Supabase ì‚¬ìš©ì ë¹„ë°€ë²ˆí˜¸ ë³€ê²½

### ë‚¨í¸ìƒ ì„œë¹„ìŠ¤ (GIBUN)
- **ì˜¨ë³´ë”©**: ë¡œê·¸ì¸ ì—†ì´ ì‹œì‘ í™”ë©´ â€” "ìœ íŠœë¸Œ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë¯¸ë˜ì˜ ë‚¨í¸ìƒ ì°¾ê¸°" + "í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°" â†’ ì„œë² ì´ ì§„ì…
- **ì„œë² ì´**: ë¹„ë¡œê·¸ì¸ìœ¼ë¡œ 12ë¬¸í•­ ì§„í–‰ â†’ "ê²°ê³¼ ë³´ê¸°" ì‹œë„ ì‹œ ë¡œê·¸ì¸ ìœ ë„ â†’ sessionStorage ì €ì¥ í›„ `/login?next=/husband-match/survey/claim` â†’ ë¡œê·¸ì¸ í›„ claim í˜ì´ì§€ì—ì„œ Phase1 API ì œì¶œ â†’ ë¦¬í¬íŠ¸ í˜ì´ì§€ ì´ë™
- **ì±„ë„ ì´ë¦„ ë¬¸í•­**: "ìì£¼ ë³´ê±°ë‚˜ êµ¬ë…í•˜ëŠ” ì±„ë„" ì„ íƒ ë¬¸í•­(S2_channels) ì¶”ê°€, `survey-to-vector` ë°˜ì˜
- **ì„œë² ì´ UI**: ì¹´í…Œê³ ë¦¬/ì·¨í–¥ ì„ íƒì„ ìœ íŠœë¸Œ ìŠ¤íƒ€ì¼ ê°€ìƒ ì¸ë„¤ì¼(ê·¸ë¼ë°ì´ì…˜ ì¹´ë“œ)ë¡œ í‘œì‹œ

### Phase 2 ì½”ì¹˜ ì»¨íŒÂ·í¼ë¸”ë¦¬ì‹œ
- **DB**: `phase2_results` ì— `published_at`, `published_by` ì¶”ê°€
- **Deep Report**: `published_at` ìˆì„ ë•Œë§Œ ë¦¬í¬íŠ¸ ë…¸ì¶œ, ì—†ìœ¼ë©´ "ë¦¬í¬íŠ¸ ê²€í†  ì¤‘" ì•ˆë‚´ + ë§ˆì´í˜ì´ì§€ ë§í¬
- **ì½”ì¹˜**: "ë‚¨í¸ìƒ Phase 2" ë©”ë‰´, `/coach/husband-match` ëª©ë¡(ê²€í†  ëŒ€ê¸°/í¼ë¸”ë¦¬ì‹œ ì™„ë£Œ), í¼ë¸”ë¦¬ì‹œ ë²„íŠ¼ â†’ `POST /api/coach/phase2/publish`
- **ì„œë² ì´ ì œì¶œ í›„**: deep-report ì§í–‰ ì œê±° â†’ `/husband-match/report-pending` ì•ˆë‚´ í˜ì´ì§€ë¡œ ì´ë™
- **ë§ˆì´í˜ì´ì§€**: "ë‚¨í¸ìƒ ë¶„ì„" ì„¹ì…˜ì—ì„œ í¼ë¸”ë¦¬ì‹œëœ Phase 2 ëª©ë¡ ë° `/husband-match/deep-report/[phase2_id]` ë§í¬

### ë¸Œëœë”©Â·UI
- **GIBUN**: ì„œë¹„ìŠ¤ëª… GIBUN, ë¡œê³ Â·íŒŒë¹„ì½˜ ì ìš©, Header/Footer/ë©”íƒ€ë°ì´í„° ë°˜ì˜
- **íˆì–´ë¡œ**: "ìœ íŠœë¸Œ ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ë¯¸ë˜ì˜ ë‚¨í¸ìƒ ì°¾ê¸°" / "ìœ íŠœë¸ŒëŠ” ë‹¹ì‹ ì˜ ëª¨ë“  ê²ƒì„ ì•Œê³  ìˆë‹¤! â€¦"
- **ìƒë‹´ ë¶€íŠ¸ìº í”„**: ë„¤ë¹„ "7ì¼ í”„ë¡œê·¸ë¨" â†’ "ìƒë‹´ ë¶€íŠ¸ìº í”„", í™ˆ ì„¹ì…˜ "7ì¼ ë‚´ë©´ ì•„ì´ ì°¾ê¸°" â†’ "7ì¼ê°„ì˜ ìƒë‹´ ë¶€íŠ¸ìº í”„"
- **ì˜¤í”ˆ ì˜ˆì •**: 7ì¼ í”„ë¡œê·¸ë¨(ìƒë‹´ ë¶€íŠ¸ìº í”„) ì˜¤í”ˆ ì˜ˆì • ë±ƒì§€, í´ë¦­ ì‹œ "ì˜¤í”ˆ ì˜ˆì •ì¸ í”„ë¡œê·¸ë¨ì…ë‹ˆë‹¤" íŒì—… + ì´ë¦„Â·íœ´ëŒ€í° ì…ë ¥ "ì˜¤í”ˆ ì•Œë¦¼ ë°›ê¸°" â†’ `open_notifications` ì €ì¥, `POST /api/open-notify`

### ë¬¸ì„œ
- **ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ ì¤€ë¹„**: `docs/KAKAO_LOGIN_SETUP.md` â€” ì¹´ì¹´ì˜¤ REST API í‚¤Â·Client Secret, Supabase Kakao Provider ì„¤ì •, Redirect URI ë“± ì²´í¬ë¦¬ìŠ¤íŠ¸

---

# ğŸ†• NEW: YouTube ë‚¨í¸ìƒ ë¶„ì„ ì„œë¹„ìŠ¤ (2026-02-01)

## âœ… ì™„ë£Œëœ ì‘ì—… (Claude Code)

### í”„ë¡œì íŠ¸ êµ¬ì¡°
- âœ… ì „ì²´ ë””ë ‰í† ë¦¬ ìƒì„± (`/husband-match/` í˜ì´ì§€, ì»´í¬ë„ŒíŠ¸, API)
- âœ… ì˜ì¡´ì„± ì„¤ì¹˜ (`googleapis`, `framer-motion`)
- âœ… Supabase ìŠ¤í‚¤ë§ˆ í™•ì¥ (5ê°œ ìƒˆ í…Œì´ë¸”)

### ì£¼ìš” ê¸°ëŠ¥
- âœ… Google OAuth & YouTube API í†µí•©
- âœ… ì¹´ë“œ UI ì»´í¬ë„ŒíŠ¸ (CardCarousel, ReportCard, SurveyCard, PaymentGate)
- âœ… 7ê°œ í˜ì´ì§€ (ì˜¨ë³´ë”©, ë¡œë”©, ë¦¬í¬íŠ¸, ê²°ì œ, ì„œë² ì´ ë“±)
- âœ… 8ê°œ API ë¼ìš°íŠ¸
- âœ… ë¬´í†µì¥ ì…ê¸ˆ ê²°ì œ ì‹œìŠ¤í…œ (ì‹ í•œì€í–‰)
- âœ… í™ˆí˜ì´ì§€ íˆì–´ë¡œ ì„¹ì…˜ ì¶”ê°€ (ë‘ ì„œë¹„ìŠ¤ ë³‘ë ¬ í‘œì‹œ)

### ì œê³µëœ ë¬¸ì„œ
- âœ… `/docs/HUSBAND_MATCH_IMPLEMENTATION.md` - ì „ì²´ êµ¬í˜„ ê°€ì´ë“œ
- âœ… `/docs/CURSOR_QUICK_START.md` - Cursor êµ¬í˜„ ê°€ì´ë“œ
- âœ… `/docs/supabase-schema.sql` - ì—…ë°ì´íŠ¸ëœ ìŠ¤í‚¤ë§ˆ

## â³ ë‹¤ìŒ ë‹¨ê³„ (Cursor êµ¬í˜„ í•„ìš”)

### ìš°ì„ ìˆœìœ„ 1: ë°ì´í„° ì •ì˜
- [ ] `husband-types.ts` - 48ê°œ ë‚¨í¸ìƒ ìœ í˜• ì™„ì„± (í˜„ì¬ 2/48)

### ìš°ì„ ìˆœìœ„ 2: ë¶„ì„ íŒŒì´í”„ë¼ì¸ (6ê°œ íŒŒì¼)
- [ ] `categorize-channels.ts` - LLM ì±„ë„ ë¶„ë¥˜
- [ ] `calculate-tci.ts` - TCI 7ì°¨ì› ê³„ì‚°
- [ ] `estimate-enneagram.ts` - ì• ë‹ˆì–´ê·¸ë¨ ì¶”ì •
- [ ] `estimate-mbti.ts` - MBTI ì¶”ì •
- [ ] `create-vector.ts` - 18ì°¨ì› ë²¡í„° ìƒì„±
- [ ] `match-husband-type.ts` - ë§¤ì¹­ ì•Œê³ ë¦¬ì¦˜

### ìš°ì„ ìˆœìœ„ 3: LLM í”„ë¡¬í”„íŠ¸ (4ê°œ íŒŒì¼)
- [ ] `system-prompt.ts` - ê³µí†µ í”„ë¡¬í”„íŠ¸
- [ ] `card-prompts.ts` - Phase 1 10ì¥ ì¹´ë“œ
- [ ] `phase2-prompts.ts` - Phase 2 8ì¥ ì¹´ë“œ
- [ ] `metaphor-generator.ts` - ë¹„ìœ  ìƒì„±

**ìƒì„¸ ê°€ì´ë“œ**: `/docs/CURSOR_QUICK_START.md` ì°¸ì¡°

---

# ê¸°ì¡´ 7ì¼ í”„ë¡œê·¸ë¨ (Previously Completed)

## ì™„ë£Œëœ ê¸°ëŠ¥

### âœ… 1. í”„ë¡œì íŠ¸ ì…‹ì—…
- Next.js 16 + TypeScript + Tailwind CSS
- Pretendard í°íŠ¸ ì ìš©
- ë…¸ì…˜ ìŠ¤íƒ€ì¼ ë””ìì¸ ì‹œìŠ¤í…œ (#FFE812 í¬ì¸íŠ¸ ìƒ‰)
- Header/Footer ë ˆì´ì•„ì›ƒ

### âœ… 2. ì¸ì¦ ì‹œìŠ¤í…œ
- Supabase Auth êµ¬ì¡° (ì¹´ì¹´ì˜¤ OAuth + ì´ë©”ì¼)
- ì¼ë°˜ ë¡œê·¸ì¸ í˜ì´ì§€
- ì½”ì¹˜ ì „ìš© ë¡œê·¸ì¸ í˜ì´ì§€
- ì½”ì¹˜ ê³„ì • ìˆ˜ë™ ì§€ì • (COACH_EMAILS í™˜ê²½ë³€ìˆ˜)
- ì¸ì¦ ë¯¸ë“¤ì›¨ì–´

### âœ… 3. í™ˆ & ì˜¨ë³´ë”©
- í™ˆ í˜ì´ì§€ (íˆì–´ë¡œ, í”„ë¡œê·¸ë¨ ì„¹ì…˜, ìœ ì˜ì‚¬í•­)
- ì˜¨ë³´ë”© ê°ì • í…ŒìŠ¤íŠ¸
  - STEP 1: 48ê°œ ê°ì • ë‹¨ì–´ ì„ íƒ
  - STEP 2: 12ë¬¸í•­ 4ì§€ì„ ë‹¤
  - ê²°ê³¼: ì£¼ 1 + ë³´ì¡° 2 ê°ì •
  - CTA: 7ì¼ í”„ë¡œê·¸ë¨ ìœ ë„

### âœ… 4. í”„ë¡œê·¸ë¨ ìƒì„¸ í˜ì´ì§€
- 7ì¼ ë‚´ë©´ ì•„ì´ ì°¾ê¸° ìƒì„¸ (ë¸”ë¡œê·¸í˜•)
- 1:1 ìƒë‹´ í”„ë¡œê·¸ë¨ ìƒì„¸
- 4ê°€ì§€ ìƒë‹´ íƒ€ì… ì†Œê°œ

### âœ… 5. ê²°ì œ ì‹œìŠ¤í…œ
- ë¬´í†µì¥ ì…ê¸ˆ ì•ˆë‚´ (ì‹ í•œ 140-015-244655)
- ê³„ì¢Œë²ˆí˜¸ ë³µì‚¬ ê¸°ëŠ¥
- 1ë§Œì› í• ì¸ ì ìš©
- ê²°ì œ ì™„ë£Œ í˜ì´ì§€
- ì½”ì¹˜ ì…ê¸ˆ í™•ì¸ UI

### âœ… 6. ìˆ˜ê°•ìƒ ëŒ€ì‹œë³´ë“œ
- 7ì¼ í”„ë¡œê·¸ë¨ íƒ­
  - ì¼ìë³„ ë¯¸ì…˜ ì¹´ë“œ (ê°ì •ì¼ê¸° + ë°ì¼ë¦¬ ë¯¸ì…˜)
  - ë¯¸êµ¬ë§¤ ì‹œ ì ê¸ˆ + ê²°ì œ ìœ ë„
- 1:1 ìƒë‹´ íƒ­
  - ì˜ˆì•½ í˜„í™©
  - ì˜ˆì•½ ìš”ì²­

### âœ… 7. ì¼ìë³„ ë¯¸ì…˜ (2~6ì¼ì°¨)
- **2ì¼ì°¨**: ì–´ë¦°ì‹œì ˆ ë¬¸ì¥ì™„ì„± (15ë¬¸í•­)
- **3ì¼ì°¨**: ìƒê°ê³¼ ì‚¬ê³  êµ¬ë¶„í•˜ê¸° (33ë¬¸í•­)
- **4ì¼ì°¨**: í•µì‹¬ ì‹ ë… ë¬¸ì¥ì™„ì„± (25ë¬¸í•­)
- **5ì¼ì°¨**: Habit Mapper (4ë‹¨ê³„)
- **6ì¼ì°¨**: ì¸ì§€ì  ì˜¤ë¥˜ ê²€ì‚¬ (15ë¬¸í•­)
- ì œì¶œ ì „ ìˆ˜ì • ë¶ˆê°€ ì•ˆë‚´
- ì œì¶œ í›„ ê°ì‚¬ ë©”ì‹œì§€

### âœ… 8. ê°ì •ì¼ê¸° (GIBUN)
- LLM ëŒ€í™”í˜• (OpenAI GPT-4o-mini)
- 15ë‹¨ê³„ Warm CBT + í•µì‹¬ ë¯¿ìŒ íƒìƒ‰
- ì¼ì°¨ë³„ ë‹¨ê³„ ì œí•œ (2ì¼ 9ë‹¨ê³„ ~ 6ì¼ 15ë‹¨ê³„)
- ì±„íŒ… UI

### âœ… 9. ë¦¬í¬íŠ¸ ì‹œìŠ¤í…œ
- ChatGPT ìë™ ìƒì„± (GPT-4o)
- 7ê°œ ì„¹ì…˜ í…œí”Œë¦¿
- ì½”ì¹˜ ë¦¬í¬íŠ¸ ì—ë””í„°
- ìƒë‹´ì‚¬ ì´í‰ ì§ì ‘ ì‘ì„±
- í¼ë¸”ë¦¬ì‹œ í”Œë¡œìš°

### âœ… 10. 1:1 ìƒë‹´ ì˜ˆì•½
- ì˜ˆì•½ ìš”ì²­ UI (ìº˜ë¦°ë”, ì„œë² ì´)
- ì½”ì¹˜ í™•ì • UI (ì¤Œ ë§í¬ ì„¤ì •)
- ì˜ˆì•½ í˜„í™© ì¡°íšŒ

### âœ… 11. ì½”ì¹˜ ëª¨ë“œ
- 7ì¼ íƒ­: ì…ê¸ˆ í™•ì¸, TCI PDF ì—…ë¡œë“œ, ë¯¸ì…˜ í˜„í™©, ë¦¬í¬íŠ¸ ì‘ì„±
- 1:1 íƒ­: ì…ê¸ˆ í™•ì¸, ì˜ˆì•½ ê´€ë¦¬, ê°€ëŠ¥ ì‹œê°„ ì„¤ì •

## ë‹¤ìŒ ë‹¨ê³„: Supabase ì—°ë™

### 1. Supabase í”„ë¡œì íŠ¸ ìƒì„±
1. https://supabase.com ì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±
2. Project URLê³¼ anon key ë³µì‚¬
3. `.env.local`ì— ì¶”ê°€:
   ```
   NEXT_PUBLIC_SUPABASE_URL=https://xxx.supabase.co
   NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJxxx...
   ```

### 2. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì‹¤í–‰
1. Supabase Dashboard > SQL Editor
2. `docs/supabase-schema.sql` ë‚´ìš© ë³µì‚¬
3. ì‹¤í–‰ â†’ í…Œì´ë¸” ìƒì„±

### 3. Auth í”„ë¡œë°”ì´ë” ì„¤ì •
1. Supabase Dashboard > Authentication > Providers
2. Kakao í™œì„±í™”
3. Kakao Developersì—ì„œ Client ID/Secret ë°œê¸‰
4. Redirect URL: `https://xxx.supabase.co/auth/v1/callback`

### 4. ì½”ì¹˜ ê³„ì • ì§€ì •
`.env.local`ì— ì¶”ê°€:
```
COACH_EMAILS=coach@example.com,admin@example.com
```

### 5. OpenAI API í‚¤ ì„¤ì •
`.env.local`ì— ì¶”ê°€:
```
OPENAI_API_KEY=sk-xxx...
```

### 6. ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
npm run dev
```

## êµ¬í˜„ë˜ì§€ ì•Šì€ ë¶€ë¶„ (ì¶”í›„ êµ¬í˜„)

- [ ] Supabase ë°ì´í„° CRUD ì—°ê²°
- [ ] êµ¬ë§¤ í›„ hasPurchase ì‹¤ì œ ì¡°íšŒ
- [ ] ë¯¸ì…˜ ì œì¶œ ë°ì´í„° ì €ì¥/ì¡°íšŒ
- [ ] ë¦¬í¬íŠ¸ í¼ë¸”ë¦¬ì‹œ ì‹¤ì œ ì „ì†¡
- [ ] ì¹´ì¹´ì˜¤ ì•Œë¦¼í†¡ ì—°ë™
- [ ] ì´ë©”ì¼/ì „í™”ë²ˆí˜¸ ìˆ˜ì§‘ í”Œë¡œìš°
- [ ] ì˜ˆì•½ ìº˜ë¦°ë” ì‹¤ì œ êµ¬í˜„
- [ ] TCI PDF Supabase Storage ì—…ë¡œë“œ

## í…ŒìŠ¤íŠ¸ ë°©ë²• (Supabase ì—°ë™ ì „)

1. í™ˆ í˜ì´ì§€ (`/`) í™•ì¸
2. ì˜¨ë³´ë”© í…ŒìŠ¤íŠ¸ (`/onboarding`) ì§„í–‰
3. í”„ë¡œê·¸ë¨ ìƒì„¸ (`/programs/7day`, `/programs/counseling`) í™•ì¸
4. ê²°ì œ í˜ì´ì§€ (`/payment/7day`) í™•ì¸
5. ëŒ€ì‹œë³´ë“œ (`/dashboard`) - ë¡œê·¸ì¸ í•„ìš” (Supabase ì—†ìœ¼ë©´ ë¦¬ë‹¤ì´ë ‰íŠ¸)

## íŒŒì¼ êµ¬ì¡°

```
/src
  /app                 # í˜ì´ì§€ ë¼ìš°íŠ¸
  /components          # ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸
  /lib                 # ìœ í‹¸ë¦¬í‹°, ë°ì´í„°, ë¡œì§

/docs                  # í”„ë¡œì íŠ¸ ë¬¸ì„œ
  /missions            # ë¯¸ì…˜ë³„ ìƒì„¸
  /inspections         # ê²€ì‚¬ ìƒì„¸
  /templates           # í…œí”Œë¦¿
  plan.md              # ì „ì²´ ê³„íš
  supabase-schema.sql  # DB ìŠ¤í‚¤ë§ˆ
```

## ì£¼ìš” íŒŒì¼

- `src/lib/supabase/*` - Supabase í´ë¼ì´ì–¸íŠ¸
- `src/lib/auth/coach.ts` - ì½”ì¹˜ ê¶Œí•œ ì²´í¬
- `src/lib/onboarding/*` - ì˜¨ë³´ë”© í…ŒìŠ¤íŠ¸ ë¡œì§
- `src/lib/missions/*` - ë¯¸ì…˜ ë°ì´í„°
- `src/components/missions/*` - ë¯¸ì…˜ ì»´í¬ë„ŒíŠ¸
- `src/app/api/emotion-diary/chat/route.ts` - ê°ì •ì¼ê¸° LLM API
- `src/app/api/report/generate/route.ts` - ë¦¬í¬íŠ¸ ìƒì„± API

## í™˜ê²½ë³€ìˆ˜

`.env.local.example` ì°¸ì¡°í•˜ì—¬ `.env.local` ìƒì„±:

```
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
COACH_EMAILS=
OPENAI_API_KEY=
```
